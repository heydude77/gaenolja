<?xml version="1.0" encoding="UTF-8" ?>
 <!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="together">
<!-- 게시글 저장하는거 -->
	<insert id="addTogetherBoard" parameterType="java.util.HashMap">
		insert into togetherboard values(togetherboard_seq.nextval, #{title},#{content},to_date(#{day},'YYYY-MM-DD HH24:MI'),#{area},#{latitude},#{longitude},0,0,#{address},#{nick})
	</insert>

<!-- 게시글 전부 뽑는거 -->
	<select id="getAllTogether" resultType="java.util.HashMap" >
		select * from togetherboard order by no desc
	</select>
	
<!-- 특정 게시글 데이터 뽑는거 -->
	<select id="getOneByNo" resultType="java.util.HashMap" parameterType="java.lang.String">
		select * from togetherboard where no=#{no}
	</select>
<!-- 특정 지역 데이터 뽑는거 -->
	<select id="getAllByArea" resultType="java.util.HashMap">
		select * from togetherboard where area=#{area}
	</select>
<!-- look up -->
	<update id="updatelookup" parameterType="java.lang.String">
		update togetherboard set lookup = lookup+1 where no=#{no}
	</update>
<!-- good -->
	<update id="updategood" parameterType="java.lang.String">
		update togetherboard set good = good+1 where no=#{no}
	</update>
<!-- good ajax -->
	<select id="getGoodByNo" parameterType="java.lang.String" resultType="java.util.HashMap">
		select good from togetherboard where no=#{no}	
	</select>
	
<!-- 특정 닉네임의 게시글 전체 뽑는거 -->
	<select id="getByTogetherList" resultType="java.util.HashMap" parameterType="java.lang.String">
		select * from togetherboard where nick = #{nick}
	</select>
	
</mapper>

